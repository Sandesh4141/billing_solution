<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>View Customers - Billing Software</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />

    <style>
      /* Styles for the view customers page */
      .container {
        max-width: 800px; /* Maximum width of the container */
        margin: 20px auto; /* Center the container */
        padding: 20px; /* Padding inside the container */
        background-color: white; /* White background */
        border-radius: 8px; /* Rounded corners */
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); /* Shadow for depth */
      }

      h2 {
        text-align: center; /* Center align heading */
        color: #333; /* Dark color for heading */
        margin-bottom: 20px; /* Space below heading */
      }

      table {
        width: 100%; /* Full width table */
        border-collapse: collapse; /* Collapse borders */
      }

      th,
      td {
        border: 1px solid #ddd; /* Light gray border */
        padding: 10px; /* Padding for cells */
        text-align: left; /* Left align text */
      }

      th {
        background-color: #007bff; /* Blue background for header */
        color: white; /* White text for header */
      }

      tr:hover {
        background-color: #f1f1f1; /* Light gray background on hover */
      }

      .action-buttons {
        display: flex; /* Flexbox for action buttons */
        justify-content: space-between; /* Space buttons evenly */
      }

      .action-buttons a {
        padding: 5px 10px; /* Padding for buttons */
        border-radius: 5px; /* Rounded corners */
        color: white; /* White text */
        text-decoration: none; /* Remove underline */
      }

      .edit-button {
        background-color: #28a745; /* Green for edit */
      }

      .edit-button:hover {
        background-color: #218838; /* Darker green on hover */
      }

      .delete-button {
        background-color: #dc3545; /* Red for delete */
      }

      .delete-button:hover {
        background-color: #c82333; /* Darker red on hover */
      }

      .back-link {
        text-align: center; /* Center align back link */
        margin-top: 20px; /* Space above */
      }

      .back-link a {
        text-decoration: none;
        color: #007bff; /* Blue link color */
      }

      .back-link a:hover {
        text-decoration: underline; /* Underline on hover */
      }
    </style>
  </head>
  <body>
    <%-include("header.ejs") %>

    <div class="container">
      <h2>View Customers</h2>
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Gender</th>
            <th>Contact</th>
            <th>Email</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% customers.forEach(customer => { %>
          <tr>
            <td><%= customer.name %></td>
            <td><%= customer.gender %></td>
            <td><%= customer.contact %></td>
            <td><%= customer.email %></td>
            <td>
              <div class="action-buttons">
                <a href="/customers/edit/<%= customer.id %>" class="edit-button"
                  >Edit</a
                >
                <form
                  action="/customers/delete/<%= customer.id %>"
                  method="POST"
                  onsubmit="return confirm('Are you sure you want to delete this customer?');"
                >
                  <button type="submit">Delete</button>
                </form>
              </div>
            </td>
          </tr>
          <% }) %>
        </tbody>
      </table>

      <div class="back-link">
        <a href="/customers/add">Add New Customer</a>
      </div>
    </div>

    <%-include('footer.ejs')%>
  </body>
</html>
